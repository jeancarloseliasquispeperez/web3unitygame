# data_loader.py

import re

class SmartContractPreprocessor:
    def __init__(self):
        pass

    def clean_code(self, code):
        # Simple cleaner: remove comments and extra spaces
        code = re.sub(r'//.*?\n|/\*.*?\*/', '', code, flags=re.S)
        code = re.sub(r'\s+', ' ', code)
        return code.strip()

    def split_functions(self, code):
        # Very basic function splitter
        functions = re.findall(r'function.*?{.*?}', code, re.S)
        return functions if functions else [code]
